This is the full link to the ticket. Use this to get access to any attached screenshots.
https://eliterate.atlassian.net/browse/MER-5305

## Ticket Description
Summary: Implement AI recommendation infrastructure contracts for Intelligent Dashboard, including context shaping, generation orchestration, feedback/regeneration backend semantics, and observability/failure behavior. Goal: Provide a stable backend foundation for recommendation UI (MER-5249) and feedback/regeneration UX (MER-5250). Integrate recommendation generation as a dashboard oracle (thus leveraging in process and revisit caches) Ensure we rate limit implicit recommendation generation to be at most once a day, per container (across all instructors in a course section) Non-Goals: Do not build or polish recommendation UI components in this ticket. Do not implement AI email modal UX (MER-5257). Do not run final copy/tone experiments outside contract boundaries. Task At Hand: Create backend AI recommendation pipeline interfaces and runtime behavior integrated with scoped dashboard snapshot context. Key Requirements: Capture recommendation generation logic as a new Oracle impl Build a backing “rate limit cache” that stores in the DB the last generated recommendation PER container in a course, only implicitly regenerate when the rate limit cache timestamp exceeds 24 hours old. Via the recommendation oracle, a “regen” feature must be available to support generating a new recommendation.  Regen must invalidate or update the current Inprocess and Revisit cache for the recommendation, otherwise we show stale data on re-navigation. Define recommendation input contract from normalized snapshot/projection context. Define recommendation output contract (message body, confidence/metadata fields as applicable). Implement request lifecycle semantics for initial generation, thumbs feedback ingestion, and regeneration.   Feedback should also be implemented through the Oracle contract. Enforce deterministic fallback behavior when no strong signal exists (no fabricated urgency). Add observability for request outcomes, latency, regeneration rate, and error categories. Ensure safe handling of sensitive context and prevent raw student PII leakage in logs/events. Acceptance Criteria: AC1: Infrastructure API supports initial recommendation generation for scoped dashboard context. AC2: Feedback and regeneration backend operations are implemented and contract-tested. AC3: No-signal and failure paths return deterministic, non-breaking responses suitable for UI display. AC4: Telemetry/monitoring covers lifecycle events and failure categories. AC5: MER-5249 and MER-5250 can consume this contract without additional backend redesign.

## Technical Guidance Notes (Darren Siegel Jira comments)
This is a FEATURE.  use slug ai_infra        Reference the existing AI recommendation prototype in lib/oli_web/live/admin/intelligent_dashboard_live.ex for the rough prompting structure and default prompt. That prototype uses the ideas of “pluggable” datasets that inject aggregated data table with a descriptor into the prompt.  We have to vet that against a more pure “tool” driven architecture.  
